{%- style -%}
  {%- assign logo_max_width = section.settings.logo_max_width -%}

  .site-footer__logo img {
    max-width: {{ logo_max_width | append: 'px' }};
  }

  @media screen and (max-width: 768px) {
    .site-footer__logo img {
      max-width: 100%;
    }
  }
{%- endstyle -%}
<footer class="test site-footer small--text-center" role="contentinfo">
  <div class="wrapper">

    <div class="grid-uniform">

      {% comment %}
        Default to 1 footer column (copyright/powered_by/payment_types)
      {% endcomment %}
      {% assign num_footer_columns = 1 %}


      {% comment %}
        Determine whether there are social links
      {% endcomment %}
      {% assign footer_social_enable = false %}
      {% if
        settings.social_twitter_link != blank
        or settings.social_facebook_link != blank
        or settings.social_pinterest_link != blank
        or settings.social_google_plus_link != blank
        or settings.social_instagram_link != blank
        or settings.social_tumblr_link != blank
        or settings.social_youtube_link != blank
        or settings.social_vimeo_link != blank
        or settings.social_fancy_link != blank
        or settings.social_snapchat_link != blank
      %}
        {% assign footer_social_enable = true %}
      {% endif %}

      {% comment %}
        Calculate the number of footer columns shown. Default to 1.
      {% endcomment %}
      {% assign footer_info = false %}
      {% if section.settings.footer_info != blank or section.settings.footer_tel != blank or section.settings.footer_email != blank %}
        {% assign num_footer_columns = num_footer_columns | plus: 1 %}
        {% assign footer_info = true %}
      {% endif %}

      {% assign footer_menu = false %}
      {% if linklists[section.settings.footer_link_list].links.size > 0 %}
        {% assign num_footer_columns = num_footer_columns | plus: 1 %}
        {% assign footer_menu = true %}
      {% endif %}

      {% case num_footer_columns %}
        {% when 0 %}
        {% when 1 %}
          {% assign footerfirst_width = '' %}
          {% assign footersecond_width = '' %}
        {% when 2 %}
          {% assign footerfirst_width = 'one-half small--one-whole' %}
          {% assign footersecond_width = 'one-half small--one-whole' %}
          {% assign footer_column_width = '' %}
        {% when 3 %}
          {% assign footerfirst_width = 'large--six-tenths medium--one-whole' %}
          {% assign footersecond_width = 'large--four-tenths medium--one-whole' %}
          {% assign footer_column_width = 'one-half small--one-whole' %}
      {% endcase %}
      <div class="grid__item footerfirst {{ footerfirst_width }}">
        {% include 'footer-logo' %}

        <div class="medium--hide large--hide mobile-newsletter">
          {% include 'footer-newsletter' %}
        </div>

        {% if footer_info  %}
        <div class="grid__item footer_column_first {{ footer_column_width }}">   

          {% if section.settings.footer_email != blank %}
            <div class="footer__email">
              {% include 'icon-email' %}
              <a href="mailto:{{ section.settings.footer_email }}">{{ section.settings.footer_email }}</a>
            </div>
          {% endif %}
          {% if section.settings.footer_info != blank %}
            <div class="footer__info">
              {{ section.settings.footer_info }}
            </div>
          {% endif %}
          {% if section.settings.footer_tel != blank %}
            <div class="footer__tel">
              <a href="tel:{{ section.settings.footer_tel }}">{{ section.settings.footer_tel }}</a>
            </div>
          {% endif %}

        </div>
      {% endif %}

      {% if footer_menu %}
        <div class="grid__item footer_column_second {{ footer_column_width }}">
          {% if footer_info == false %}
            {% include 'footer-logo' %}
          {% endif %}
          <ul class="no-bullets site-footer__linklist">
            {% for link in linklists[section.settings.footer_link_list].links %}
              {% unless link.title contains 'Share & Earn' or link.title contains 'Ambassador' %}
                <li><a href="{{ link.url }}">{{ link.title }}</a></li>
              {% endunless %}
            {% endfor %}
          </ul>
          <div class="medium--hide large--hide">
            {% if footer_social_enable %}
              {% include 'social-icons' %}
            {% endif %}
          </div>
        </div>
      {% endif %}
      </div>
    
      <div class="grid__item footersecond small--hide {{ footersecond_width }}">
        <div class="">
          {% include 'footer-newsletter' %}
        </div>
        {% if footer_social_enable %}
          {% include 'social-icons' %}
        {% endif %}
        <div class="footer-copyright">
          Copyright &copy; {{ 'now' | date: '%Y' }} {{ shop.name | link_to: routes.root_url }} Inc. All rights reserved.
        </div>  
      </div>  

    </div>
    <div class="footer-paymant-icons">
      {%- if section.settings.show_payment_icons -%}
        {%- unless shop.enabled_payment_types == empty -%}
          <span class="visually-hidden">{{ 'general.payment.method' | t }}</span>
          <ul class="inline-list payment-icons">
            {%- for type in shop.enabled_payment_types -%}
              <li>
                {{ type | payment_type_svg_tag: class: 'icon' }}
              </li>
            {%- endfor -%}
          </ul>
        {%- endunless -%}
      {%- endif -%}
    </div>
    <div class="footer-bottom-text">{{ section.settings.bottom_text }}</div>
    <div class="footer-copyright large--hide medium--hide">
      Copyright &copy; {{ 'now' | date: '%Y' }} {{ shop.name | link_to: routes.root_url }} Inc. All rights reserved.
    </div>  
  </div>
</footer>



{% schema %}
{
  "name": {
    "da": "Sidefod",
    "de": "Fußzeile",
    "en": "Footer",
    "es": "Pie de página",
    "fi": "Alatunniste",
    "fr": "Pied de page",
    "hi": "फुटर",
    "it": "Footer",
    "ja": "フッター",
    "ko": "바닥글",
    "ms": "Pengaki",
    "nb": "Footer",
    "nl": "Voettekst",
    "pt-BR": "Rodapé",
    "pt-PT": "Rodapé",
    "sv": "Sidfot",
    "th": "ส่วนท้าย",
    "zh-CN": "页脚",
    "zh-TW": "頁尾"
  },
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "range",
      "id": "logo_max_width",
      "label": "Custom logo width",
      "min": 50,
      "max": 260,
      "step": 5,
      "unit": "px",
      "default": 180
    },
    {
      "type": "richtext",
      "id": "footer_info",
      "label": "Footer Info"
    },
    {
      "type": "text",
      "id": "footer_tel",
      "label": "Footer Tel"
    },
    {
      "type": "text",
      "id": "footer_email",
      "label": "Footer Email"
    },
    {
      "type": "link_list",
      "id": "footer_link_list",
      "label": {
        "da": "Sidefodsmenu",
        "de": "Fußzeilenmenü",
        "en": "Footer menu",
        "es": "Menú inferior",
        "fi": "Alatunniste-valikko",
        "fr": "Menu pied de page",
        "hi": "फुटर मेनू",
        "it": "Menu footer",
        "ja": "フッターメニュー",
        "ko": "바닥글 메뉴",
        "ms": "Menu kaki",
        "nb": "Bunntekstmeny",
        "nl": "Voettekstmenu",
        "pt-BR": "Menu de rodapé",
        "pt-PT": "Menu do rodapé",
        "sv": "Sidfotsmeny",
        "th": "เมนูส่วนท้าย",
        "zh-CN": "页脚菜单",
        "zh-TW": "頁尾選單"
      },
      "default": "footer"
    },
    {
      "type": "text",
      "id": "newsletter_heading",
      "label": "Newsletter Heading"
    },
    {
      "type": "text",
      "id": "newsletter_subheading",
      "label": "Newsletter Subheading"
    },
    {
      "type": "text",
      "id": "newsletter_confirmstion",
      "label": "Newsletter Confirmstion"
    },
    {
      "type": "checkbox",
      "id": "show_payment_icons",
      "label": {
        "da": "Vis betalingsikoner",
        "de": "Zahlungssymbole anzeigen",
        "en": "Show payment icons",
        "es": "Mostrar iconos de pago",
        "fi": "Näytä maksukuvakkeet",
        "fr": "Afficher les icônes de paiement",
        "hi": "भुगतान आइकन दिखाएं",
        "it": "Mostra le icone di pagamento",
        "ja": "支払いアイコンを表示する",
        "ko": "결제 아이콘 표시",
        "ms": "Tunjukkan ikon pembayaran",
        "nb": "Vis betalingsikoner",
        "nl": "Betalingspictogrammen weergeven",
        "pt-BR": "Exibir ícones de pagamento",
        "pt-PT": "Mostrar ícones de pagamento",
        "sv": "Visa betalningsikoner",
        "th": "แสดงไอคอนการชำระเงิน",
        "zh-CN": "显示付款图标",
        "zh-TW": "顯示付款圖示"
      },
      "default": true
    },
    {
      "type": "text",
      "id": "bottom_text",
      "label": "Bottom Text"
    }
  ]
}
{% endschema %}
